<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∑–∞—Ä–ø–ª–∞—Ç–∏</title>
<style>
body {
  font-family: Arial, sans-serif;
  margin: 0;
  padding: 0;
  background: #f0f4f8;
  display: flex;
  justify-content: center;
  align-items: flex-start;
  padding-top: 2rem;
}

.container {
  background: #fff;
  width: 95%;
  max-width: 400px;
  border-radius: 12px;
  padding: 1.5rem;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

h1 {
  text-align: center;
  margin-bottom: 1rem;
  color: #333;
}

.field-label {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-top: 0.8rem;
  font-weight: bold;
  color: #555;
}

input[type="number"] {
  width: 100%;
  max-width: 100px;
  padding: 0.5rem;
  margin-top: 0.2rem;
  border-radius: 6px;
  border: 1px solid #ccc;
  text-align: center;
  font-size: 1rem;
}

.result {
  text-align: center;
  margin-top: 1rem;
  font-size: 1.2rem;
  font-weight: bold;
  color: #111;
}

.buttons {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  margin-top: 1rem;
}

button {
  padding: 0.8rem;
  font-size: 1rem;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  background-color: #4a90e2;
  color: white;
  transition: background 0.2s;
}

button:hover {
  background-color: #357abd;
}

.toggle-label {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-top: 1rem;
  font-weight: bold;
  color: #555;
}

.switch {
  position: relative;
  display: inline-block;
  width: 50px;
  height: 26px;
}

.switch input {
  opacity: 0;
  width: 0;
  height: 0;
}

.slider {
  position: absolute;
  cursor: pointer;
  top:0; left:0; right:0; bottom:0;
  background-color: #ccc;
  transition: 0.4s;
  border-radius: 34px;
}

.slider:before {
  position: absolute;
  content: "";
  height: 20px; width: 20px;
  left: 3px; bottom: 3px;
  background-color: white;
  border-radius: 50%;
  transition: 0.4s;
}

input:checked + .slider {
  background-color: #4a90e2;
}

input:checked + .slider:before {
  transform: translateX(24px);
}

#hoursContainer {
  display: none;
}

.hint {
  font-size: 0.85rem;
  color: #555;
  margin-top: 0.2rem;
  display: none;
}
.hint-button {
  background: none;
  border: none;
  font-size: 1rem;
  cursor: pointer;
  color: #4a90e2;
  margin-left: 5px;
}
</style>
</head>
<body>
<div class="container">
<h1>üíº –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∑–∞—Ä–ø–ª–∞—Ç–∏</h1>

<label class="toggle-label">
  <span class="switch">
    <input type="checkbox" id="toggleNovachky">
    <span class="slider"></span>
  </span>
  –í–∫–ª—é—á–∏—Ç–∏ —Ç–∞—Ä–∏—Ñ–∏ –¥–ª—è –Ω–æ–≤–∞—á–∫—ñ–≤
</label>

<div id="hoursContainer">
  <label class="field-label">üïí –†–æ–±–æ—á—ñ –≥–æ–¥–∏–Ω–∏ (46,72 –≥—Ä–Ω/–≥–æ–¥)</label>
  <input type="number" id="hours">
</div>

<div>
  <label class="field-label">
    üì¶ –ó–±–∏—Ä–∞–Ω–Ω—è –≤ –î–° (1,34 –≥—Ä–Ω)
    <button class="hint-button" data-hint="–ó–∞ –∫–æ–∂–µ–Ω –∑—ñ–±—Ä–∞–Ω–∏–π —Ç–æ–≤–∞—Ä —É –î–° –≤–∏–ø–ª–∞—Ç–∞ 1,34 –≥—Ä–Ω">‚ùî</button>
  </label>
  <input type="number" id="ds">
  <div class="hint" id="hint-ds"></div>
</div>

<div>
  <label class="field-label">
    üõí –ó–±–∏—Ä–∞–Ω–Ω—è –≤ –¢–ó (2,69 –≥—Ä–Ω)
    <button class="hint-button" data-hint="–ó–∞ –∫–æ–∂–µ–Ω –∑—ñ–±—Ä–∞–Ω–∏–π —Ç–æ–≤–∞—Ä —É –¢–ó –≤–∏–ø–ª–∞—Ç–∞ 2,69 –≥—Ä–Ω">‚ùî</button>
  </label>
  <input type="number" id="tz">
  <div class="hint" id="hint-tz"></div>
</div>

<div>
  <label class="field-label">
    üîÅ –ü–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è —Ç–æ–≤–∞—Ä—ñ–≤ –∑ –¢–ó (3,32 –≥—Ä–Ω)
    <button class="hint-button" data-hint="–ó–∞ –∫–æ–∂–Ω–µ –ø–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è —Ç–æ–≤–∞—Ä—ñ–≤ —ñ–∑ –¢–ó –≤–∏–ø–ª–∞—Ç–∞ 3,32 –≥—Ä–Ω">‚ùî</button>
  </label>
  <input type="number" id="move">
  <div class="hint" id="hint-move"></div>
</div>

<div>
  <label class="field-label">
    üì• –†–æ–∑–º—ñ—â–µ–Ω–Ω—è —Ç–æ–≤–∞—Ä—ñ–≤ —É –î–° (1,53 –≥—Ä–Ω)
    <button class="hint-button" data-hint="–ó–∞ –∫–æ–∂–Ω–µ —Ä–æ–∑–º—ñ—â–µ–Ω–Ω—è —Ç–æ–≤–∞—Ä—ñ–≤ —É –î–° –≤–∏–ø–ª–∞—Ç–∞ 1,53 –≥—Ä–Ω">‚ùî</button>
  </label>
  <input type="number" id="place">
  <div class="hint" id="hint-place"></div>
</div>

<div>
  <label class="field-label">
    ‚öñÔ∏è –í–∞–≥–∞ —Ä–æ–∑–º—ñ—â–µ–Ω–Ω—è (0,14 –≥—Ä–Ω)
    <button class="hint-button" data-hint="–ó–∞ –∫–æ–∂–Ω—É –æ–¥–∏–Ω–∏—Ü—é –≤–∞–≥–∏ –≤–∏–ø–ª–∞—Ç–∞ 0,14 –≥—Ä–Ω">‚ùî</button>
  </label>
  <input type="number" id="weight">
  <div class="hint" id="hint-weight"></div>
</div>

<div>
  <label class="field-label">
    üéÅ –ü–∞–∫—É–≤–∞–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è (0,27 –≥—Ä–Ω)
    <button class="hint-button" data-hint="–ó–∞ –∫–æ–∂–Ω–µ –ø–∞–∫—É–≤–∞–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –≤–∏–ø–ª–∞—Ç–∞ 0,27 –≥—Ä–Ω">‚ùî</button>
  </label>
  <input type="number" id="pack">
  <div class="hint" id="hint-pack"></div>
</div>

<div class="result" id="total">–í—Å—å–æ–≥–æ: 0 –≥—Ä–Ω</div>

<div class="buttons">
  <button id="reset">üßπ –û—á–∏—Å—Ç–∏—Ç–∏ –≤—Å–µ</button>
  <button id="share">üì§ –ü–æ–¥—ñ–ª–∏—Ç–∏—Å—å —É Telegram</button>
</div>
</div>

<script>
const baseRates = { ds:1.34, tz:2.69, move:3.32, place:1.53, weight:0.14, pack:0.27 };
const newRates = { ds:0.67, tz:1.34, move:1.66, place:0.76, weight:0.07, pack:0.14 };
let rates = {...baseRates};
const hourlyRate = 46.72;

const ds = document.getElementById('ds');
const tz = document.getElementById('tz');
const move = document.getElementById('move');
const place = document.getElementById('place');
const weight = document.getElementById('weight');
const pack = document.getElementById('pack');
const hours = document.getElementById('hours');
const total = document.getElementById('total');
const reset = document.getElementById('reset');
const share = document.getElementById('share');
const toggle = document.getElementById('toggleNovachky');
const hoursContainer = document.getElementById('hoursContainer');

function updateTotal(){
  let sum = (rates.ds*Number(ds.value||0)) + (rates.tz*Number(tz.value||0)) +
            (rates.move*Number(move.value||0)) + (rates.place*Number(place.value||0)) +
            (rates.weight*Number(weight.value||0)) + (rates.pack*Number(pack.value||0)) +
            (Number(hours.value||0)*hourlyRate);
  total.textContent = `–í—Å—å–æ–≥–æ: ${sum.toFixed(2)} –≥—Ä–Ω`;
}

[ds,tz,move,place,weight,pack,hours].forEach(i=>i.addEventListener('input',updateTotal));

toggle.addEventListener('change',()=>{
  if(toggle.checked){ 
    hoursContainer.style.display='block'; 
    rates={...newRates}; 
  } else{ 
    hoursContainer.style.display='none'; 
    hours.value=''; 
    rates={...baseRates};
  }
  updateTotal();
});

reset.addEventListener('click',()=>{ 
  [ds,tz,move,place,weight,pack,hours].forEach(i=>i.value=''); 
  updateTotal(); 
});

share.addEventListener('click',()=>{
  const today = new Date();
  const d = today.getDate().toString().padStart(2,'0');
  const m = (today.getMonth()+1).toString().padStart(2,'0');
  const y = today.getFullYear();
  const text = `–ú—ñ–π –∑–∞—Ä–æ–±—ñ—Ç–æ–∫ (${d}.${m}.${y}) ‚Äî ${total.textContent.split(': ')[1]}\n–ü–µ—Ä–µ–≤—ñ—Ä —Å–≤—ñ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ç—É—Ç: https://perevershnik.github.io/zp/`;
  const url = `https://t.me/share/url?url=&text=${encodeURIComponent(text)}`;
  window.open(url,'_blank');
});

// –ü–æ–¥—Å–∫–∞–∑–∫–∏
document.querySelectorAll('.hint-button').forEach(btn=>{
  btn.addEventListener('click', ()=>{
    const hintId = 'hint-' + btn.parentElement.parentElement.querySelector('input').id;
    const hintDiv = document.getElementById(hintId);
    hintDiv.style.display = hintDiv.style.display==='block' ? 'none' : 'block';
    hintDiv.textContent = btn.dataset.hint;
  });
});
</script>
</body>
</html>
