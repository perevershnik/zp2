<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –∑–∞—Ä–ø–ª–∞—Ç–∏</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <h1>üíº –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –∑–∞—Ä–ø–ª–∞—Ç–∏</h1>

    <label class="toggle-label">
      <span class="switch">
        <input type="checkbox" id="toggleNovachky">
        <span class="slider round"></span>
      </span>
      –í–∫–ª—é—á–∏—Ç–∏ —Ç–∞—Ä–∏—Ñ—ã –¥–ª—è –Ω–æ–≤–∞—á–∫—ñ–≤
    </label>

    <div id="hoursContainer" style="display:none;">
      <label>üïí –†–æ–±–æ—á—ñ –≥–æ–¥–∏–Ω–∏ (46,72 –≥—Ä–Ω/–≥–æ–¥):</label>
      <input type="number" id="hours">
    </div>

    <label id="labelDs">üì¶ –ó–±–∏—Ä–∞–Ω–Ω—è –≤ –î–° (1,34 –≥—Ä–Ω):</label><input type="number" id="ds">
    <label id="labelTz">üõí –ó–±–∏—Ä–∞–Ω–Ω—è –≤ –¢–ó (2,69 –≥—Ä–Ω):</label><input type="number" id="tz">
    <label id="labelMove">üîÅ –ü–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è —Ç–æ–≤–∞—Ä—ñ–≤ –∑ –¢–ó (3,32 –≥—Ä–Ω):</label><input type="number" id="move">
    <label id="labelPlace">üì• –†–æ–∑–º—ñ—â–µ–Ω–Ω—è —Ç–æ–≤–∞—Ä—ñ–≤ —É –î–° (1,53 –≥—Ä–Ω):</label><input type="number" id="place">
    <label id="labelWeight">‚öñÔ∏è –í–∞–≥–∞ —Ä–æ–∑–º—ñ—â–µ–Ω–Ω—è (0,14 –≥—Ä–Ω):</label><input type="number" id="weight">
    <label id="labelPack">üéÅ –ü–∞–∫—É–≤–∞–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è (0,27 –≥—Ä–Ω):</label><input type="number" id="pack">

    <div class="result" id="total">–í—Å—å–æ–≥–æ: 0 –≥—Ä–Ω</div>

    <div class="buttons">
      <button class="calc-btn" id="reset">üßπ –û—á–∏—Å—Ç–∏—Ç–∏ –≤—Å–µ</button>
      <button class="calc-btn" id="share">üì§ –ü–æ–¥—ñ–ª–∏—Ç–∏—Å—å —É Telegram</button>
      <button class="calc-btn" onclick="window.location.href='index.html'">‚¨ÖÔ∏è –ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—å —É –º–µ–Ω—é</button>
    </div>
  </div>

  <div class="footer">Version 1.1 ¬© 2025 –°—Ç–æ—Ü—å–∫–∏–π –í.–í.</div>

  <script>
  const baseRates={ds:1.34,tz:2.69,move:3.32,place:1.53,weight:0.14,pack:0.27};
  const newRates={ds:0.67,tz:1.34,move:1.66,place:0.76,weight:0.07,pack:0.14};
  let rates={...baseRates};
  const hourlyRate=46.72;
  const ds=document.getElementById('ds'), tz=document.getElementById('tz'), move=document.getElementById('move'),
  place=document.getElementById('place'), weight=document.getElementById('weight'), pack=document.getElementById('pack'),
  hours=document.getElementById('hours'), total=document.getElementById('total'),
  reset=document.getElementById('reset'), share=document.getElementById('share'),
  toggle=document.getElementById('toggleNovachky'), hoursContainer=document.getElementById('hoursContainer');
  const labels={ds:labelDs, tz:labelTz, move:labelMove, place:labelPlace, weight:labelWeight, pack:labelPack};

  function updateTotal(){
    let sum=(rates.ds*Number(ds.value||0))+(rates.tz*Number(tz.value||0))+(rates.move*Number(move.value||0))+(rates.place*Number(place.value||0))+(rates.weight*Number(weight.value||0))+(rates.pack*Number(pack.value||0))+(Number(hours.value||0)*hourlyRate);
    total.textContent=`–í—Å—å–æ–≥–æ: ${sum.toFixed(2)} –≥—Ä–Ω`;
  }

  [ds,tz,move,place,weight,pack,hours].forEach(i=>i.addEventListener('input',updateTotal));

  toggle.addEventListener('change',()=>{
    if(toggle.checked){hoursContainer.style.display='block';rates={...newRates};}
    else{hoursContainer.style.display='none';hours.value='';rates={...baseRates};}
    updateTotal();
  });

  reset.addEventListener('click',()=>{[ds,tz,move,place,weight,pack,hours].forEach(i=>i.value='');updateTotal();});
  share.addEventListener('click',()=>{
    const today=new Date();
    const d=today.getDate().toString().padStart(2,'0'),m=(today.getMonth()+1).toString().padStart(2,'0'),y=today.getFullYear();
    const text=`–ú—ñ–π –∑–∞—Ä–æ–±—ñ—Ç–æ–∫ (${d}.${m}.${y}) ‚Äî ${total.textContent.split(': ')[1]}\n–ü–µ—Ä–µ–≤—ñ—Ä —Å–≤—ñ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ç—É—Ç: https://perevershnik.github.io/zp/`;
    const url=`https://t.me/share/url?url=&text=${encodeURIComponent(text)}`;
    window.open(url,'_blank');
  });
  </script>
</body>
</html>
