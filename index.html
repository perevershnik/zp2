<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–ú–µ–Ω—é –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ñ–≤</title>
  <link rel="icon" href="https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/svg/1f4b0.svg" type="image/svg+xml">
  <script src="https://cdn.jsdelivr.net/npm/qrcodejs/qrcode.min.js"></script>
  <style>
    body {
      font-family: "Inter", Arial, sans-serif;
      margin: 0;
      padding: 1rem;
      background: radial-gradient(circle at top left, #e3f2fd, #fce4ec);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }
    .hidden { display: none; }

    /* –ú–µ–Ω—é */
    .menu {
      width: 90%;
      max-width: 400px;
      background: rgba(255,255,255,0.7);
      border-radius: 20px;
      box-shadow: 0 4px 30px rgba(0,0,0,0.1);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      padding: 1.5rem;
      animation: fadeIn 1s ease;
      text-align: center;
    }
    .menu h1 { margin-bottom: 1rem; color: #333; }
    .menu button {
      width: 100%;
      padding: 0.7rem;
      font-size: 1rem;
      border: none;
      border-radius: 12px;
      background: linear-gradient(90deg, #64b5f6, #ba68c8);
      color: #fff;
      cursor: pointer;
      transition: transform 0.2s ease, box-shadow 0.3s ease;
      margin-bottom: 0.6rem;
    }
    .menu button:hover { transform: scale(1.03); box-shadow: 0 0 10px rgba(100,181,246,0.5); }
    .menu button:active { transform: scale(0.97); }

    @keyframes fadeIn { from { opacity:0; transform:translateY(15px); } to { opacity:1; transform:translateY(0); } }

    /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã */
    .container {
      width: 90%;
      max-width: 400px;
      background: rgba(255,255,255,0.6);
      border-radius: 20px;
      box-shadow: 0 4px 30px rgba(0,0,0,0.1);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      padding: 1.5rem;
      animation: fadeIn 1s ease;
    }
    h1 { font-size:1.1rem; text-align:center; margin-bottom:1rem; color:#333; letter-spacing:0.5px; }
    label { display:block; margin:0.6rem 0 0.3rem; color:#333; font-size:0.9rem; font-weight:500; }
    input { width:100%; padding:0.5rem; margin-bottom:0.8rem; border:1px solid rgba(0,0,0,0.2); border-radius:10px; background: rgba(255,255,255,0.9); color:#222; font-size:1rem; text-align:center; transition: box-shadow 0.3s ease, transform 0.2s ease; }
    input:focus { outline:none; box-shadow:0 0 10px rgba(100,181,246,0.8); transform:scale(1.02); }
    .result { text-align:center; margin-top:1rem; font-weight:bold; font-size:1.2rem; color:#222; transition: all 0.3s ease; }
    .buttons { display:flex; flex-direction:column; gap:0.5rem; margin-top:0.8rem; }
    button.calc-btn { width:100%; padding:0.7rem; font-size:1rem; border:none; border-radius:12px; background: linear-gradient(90deg, #64b5f6, #ba68c8); color:#fff; cursor:pointer; transition: transform 0.2s ease, box-shadow 0.3s ease; }
    button.calc-btn:hover { transform: scale(1.03); box-shadow: 0 0 10px rgba(100,181,246,0.5); }
    button.calc-btn:active { transform: scale(0.97); }
    .footer { margin-top:1rem; font-size:0.75rem; color:rgba(0,0,0,0.5); text-align:center; user-select:none; }
    .switch { position:relative; display:inline-block; width:50px; height:26px; vertical-align:middle; }
    .switch input { opacity:0; width:0; height:0; }
    .slider { position:absolute; cursor:pointer; top:0; left:0; right:0; bottom:0; background-color:#ccc; transition:0.4s; border-radius:34px; }
    .slider:before { position:absolute; content:""; height:20px; width:20px; left:3px; bottom:3px; background-color:white; transition:0.4s; border-radius:50%; }
    input:checked + .slider { background-color:#64b5f6; }
    input:checked + .slider:before { transform: translateX(24px); }
    .toggle-label { display:flex; align-items:center; gap:0.5rem; margin-bottom:1rem; font-size:0.9rem; color:#333; }
    .qr-block img { max-width:100%; margin-top:1rem; display:block; margin-left:auto; margin-right:auto; }
  </style>
</head>
<body>

  <!-- –ú–µ–Ω—é -->
  <div class="menu" id="menu">
    <h1>üìã –ú–µ–Ω—é –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ñ–≤</h1>
    <button id="btnZP">üíº –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –∑–∞—Ä–ø–ª–∞—Ç–∏</button>
    <button id="btnQR">üì± QR-–∫–æ–¥–∏ –∫–æ–º—ñ—Ä–æ–∫</button>
  </div>

  <!-- –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∑–∞—Ä–ø–ª–∞—Ç–∏ -->
  <div class="container hidden" id="calculator">
    <h1>üíº –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –∑–∞—Ä–ø–ª–∞—Ç–∏</h1>
    <label class="toggle-label">
      <span class="switch">
        <input type="checkbox" id="toggleNovachky">
        <span class="slider round"></span>
      </span>
      –í–∫–ª—é—á–∏—Ç–∏ —Ç–∞—Ä–∏—Ñ—ã –¥–ª—è –Ω–æ–≤–∞—á–∫—ñ–≤
    </label>
    <div id="hoursContainer" style="display:none;">
      <label>üïí –†–æ–±–æ—á—ñ –≥–æ–¥–∏–Ω–∏ (46,72 –≥—Ä–Ω/–≥–æ–¥):</label>
      <input type="number" id="hours" value="">
    </div>
    <label id="labelDs">üì¶ –ó–±–∏—Ä–∞–Ω–Ω—è –≤ –î–° (1,34 –≥—Ä–Ω):</label><input type="number" id="ds" value="">
    <label id="labelTz">üõí –ó–±–∏—Ä–∞–Ω–Ω—è –≤ –¢–ó (2,69 –≥—Ä–Ω):</label><input type="number" id="tz" value="">
    <label id="labelMove">üîÅ –ü–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è —Ç–æ–≤–∞—Ä—ñ–≤ –∑ –¢–ó (3,32 –≥—Ä–Ω):</label><input type="number" id="move" value="">
    <label id="labelPlace">üì• –†–æ–∑–º—ñ—â–µ–Ω–Ω—è —Ç–æ–≤–∞—Ä—ñ–≤ —É –î–° (1,53 –≥—Ä–Ω):</label><input type="number" id="place" value="">
    <label id="labelWeight">‚öñÔ∏è –í–∞–≥–∞ —Ä–æ–∑–º—ñ—â–µ–Ω–Ω—è (0,14 –≥—Ä–Ω):</label><input type="number" id="weight" value="">
    <label id="labelPack">üéÅ –ü–∞–∫—É–≤–∞–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è (0,27 –≥—Ä–Ω):</label><input type="number" id="pack" value="">
    <div class="result" id="total">–í—Å—å–æ–≥–æ: 0 –≥—Ä–Ω</div>
    <div class="buttons">
      <button class="calc-btn" id="reset">üßπ –û—á–∏—Å—Ç–∏—Ç–∏ –≤—Å–µ</button>
      <button class="calc-btn" id="share">üì§ –ü–æ–¥—ñ–ª–∏—Ç–∏—Å—å —É Telegram</button>
      <button class="calc-btn" id="back">‚¨ÖÔ∏è –ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—å —É –º–µ–Ω—é</button>
    </div>
  </div>

  <!-- QR-–∫–æ–¥–∏ –∫–æ–º—ñ—Ä–æ–∫ -->
  <div class="container hidden" id="qrBlock">
    <h1>üì± QR-–∫–æ–¥–∏ –∫–æ–º—ñ—Ä–æ–∫</h1>
    <label>–í–∏–±–µ—Ä—ñ—Ç—å –∫–æ–º—ñ—Ä–∫—É:</label>
    <select id="cellSelect">
      <option value="">–í–∏–±–µ—Ä—ñ—Ç—å –∫–æ–º—ñ—Ä–∫—É</option>
      <option value="64-1">64-1</option>
      <option value="64-2">64-2</option>
      <option value="64-3">64-3</option>
      <option value="64-4">64-4</option>
      <option value="64-5">64-5</option>
      <option value="64-6">64-6</option>
      <option value="64-7">64-7</option>
      <option value="64-8">64-8</option>
      <option value="64-9">64-9</option>
      <option value="64-10">64-10</option>
      <option value="65-1">65-1</option>
      <option value="65-2">65-2</option>
      <option value="65-3">65-3</option>
      <option value="65-4">65-4</option>
      <option value="65-5">65-5</option>
      <option value="65-6">65-6</option>
      <option value="65-7">65-7</option>
      <option value="65-8">65-8</option>
      <option value="65-9">65-9</option>
      <option value="65-10">65-10</option>
    </select>
    <div id="qrContainer" style="margin-top: 20px;"></div>
    <div class="buttons">
      <button class="calc-btn" id="backQR">‚¨ÖÔ∏è –ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—å —É –º–µ–Ω—é</button>
    </div>
  </div>

  <div class="footer">
    Version 1.0 ¬© 2025 –°—Ç–æ—Ü—å–∫–∏–π –í.–í.
  </div>

  <script>
    // –ú–µ–Ω—é
    const menu = document.getElementById('menu');
    const calculator = document.getElementById('calculator');
    const qrBlock = document.getElementById('qrBlock');
    document.getElementById('btnZP').addEventListener('click',()=>{menu.classList.add('hidden');calculator.classList.remove('hidden');});
    document.getElementById('btnQR').addEventListener('click',()=>{menu.classList.add('hidden');qrBlock.classList.remove('hidden');});
    document.getElementById('back').addEventListener('click',()=>{calculator.classList.add('hidden');menu.classList.remove('hidden');});
    document.getElementById('backQR').addEventListener('click',()=>{qrBlock.classList.add('hidden');menu.classList.remove('hidden');});

    // –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∑–∞—Ä–ø–ª–∞—Ç–∏
    const baseRates={ds:1.34,tz:2.69,move:3.32,place:1.53,weight:0.14,pack:0.27};
    const newRates={ds:0.67,tz:1.34,move:1.66,place:0.76,weight:0.07,pack:0.14};
    let rates={...baseRates}; const hourlyRate=46.72;
    const ds=document.getElementById('ds'),tz=document.getElementById('tz'),move=document.getElementById('move'),
      place=document.getElementById('place'),weight=document.getElementById('weight'),pack=document.getElementById('pack'),
      hours=document.getElementById('hours'),total=document.getElementById('total'),reset=document.getElementById('reset'),
      share=document.getElementById('share'),toggle=document.getElementById('toggleNovachky'),hoursContainer=document.getElementById('hoursContainer');
    const labels={ds:document.getElementById('labelDs'),tz:document.getElementById('labelTz'),
      move:document.getElementById('labelMove'),place:document.getElementById('labelPlace'),
      weight:document.getElementById('labelWeight'),pack:document.getElementById('labelPack')};

    function updateTotal(){let sum=(rates.ds*Number(ds.value||0))+(rates.tz*Number(tz.value||0))+(rates.move*Number(move.value||0))+(rates.place*Number(place.value||0))+(rates.weight*Number(weight.value||0))+(rates.pack*Number(pack.value||0))+(Number(hours.value||0)*hourlyRate);total.textContent=`–í—Å—å–æ–≥–æ: ${sum.toFixed(2)} –≥—Ä–Ω`;total.style.transform="scale(1.1)";setTimeout(()=>total.style.transform="scale(1)",150);}
    [ds,tz,move,place,weight,pack,hours].forEach(i=>{i.addEventListener('input',updateTotal);i.addEventListener('focus',()=>{if(i.value==='0')i.value='';});});
    toggle.addEventListener('change',()=>{if(toggle.checked){hoursContainer.style.display='block';rates={...newRates};labels.ds.textContent=`üì¶ –ó–±–∏—Ä–∞–Ω–Ω—è –≤ –î–° (${newRates.ds} –≥—Ä–Ω):`;labels.tz.textContent=`üõí –ó–±–∏—Ä–∞–Ω–Ω—è –≤ –¢–ó (${newRates.tz} –≥—Ä–Ω):`;labels.move.textContent=`üîÅ –ü–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è —Ç–æ–≤–∞—Ä—ñ–≤ –∑ –¢–ó (${newRates.move} –≥—Ä–Ω):`;labels.place.textContent=`üì• –†–æ–∑–º—ñ—â–µ–Ω–Ω—è —Ç–æ–≤–∞—Ä—ñ–≤ —É –î–° (${newRates.place} –≥—Ä–Ω):`;labels.weight.textContent=`‚öñÔ∏è –í–∞–≥–∞ —Ä–æ–∑–º—ñ—â–µ–Ω–Ω—è (${newRates.weight} –≥—Ä–Ω):`;labels.pack.textContent=`üéÅ –ü–∞–∫—É–≤–∞–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è (${newRates.pack} –≥—Ä–Ω):`;}else{hoursContainer.style.display='none';hours.value='';rates={...baseRates};labels.ds.textContent=`üì¶ –ó–±–∏—Ä–∞–Ω–Ω—è –≤ –î–° (${baseRates.ds} –≥—Ä–Ω):`;labels.tz.textContent=`üõí –ó–±–∏—Ä–∞–Ω–Ω—è –≤ –¢–ó (${baseRates.tz} –≥—Ä–Ω):`;labels.move.textContent=`üîÅ –ü–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è —Ç–æ–≤–∞—Ä—ñ–≤ –∑ –¢–ó (${baseRates.move} –≥—Ä–Ω):`;labels.place.textContent=`üì• –†–æ–∑–º—ñ—â–µ–Ω–Ω—è —Ç–æ–≤–∞—Ä—ñ–≤ —É –î–° (${baseRates.place} –≥—Ä–Ω):`;labels.weight.textContent=`‚öñÔ∏è –í–∞–≥–∞ —Ä–æ–∑–º—ñ—â–µ–Ω–Ω—è (${baseRates.weight} –≥—Ä–Ω):`;labels.pack.textContent=`üéÅ –ü–∞–∫—É–≤–∞–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è (${baseRates.pack} –≥—Ä–Ω):`;}updateTotal();});
    reset.addEventListener('click',()=>{[ds,tz,move,place,weight,pack,hours].forEach(i=>i.value='');updateTotal();});
    share.addEventListener('click',()=>{const today=new Date();const day=today.getDate().toString().padStart(2,'0');const month=(today.getMonth()+1).toString().padStart(2,'0');const year=today.getFullYear();const formattedDate=`${day}.${month}.${year}`;const earnings=total.textContent.split(': ')[1];const text=`–ú—ñ–π –∑–∞—Ä–æ–±—ñ—Ç–æ–∫ (${formattedDate}) ‚Äî ${earnings}\n–ü–µ—Ä–µ–≤—ñ—Ä —Å–≤—ñ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ç—É—Ç: https://perevershnik.github.io/zp/`;const url=`https://t.me/share/url?url=&text=${encodeURIComponent(text)}`;window.open(url,'_blank');});

    // QR-–∫–æ–¥–∏
    const qrData={
      "64-1":"uuid-64-1","64-2":"a52472c3-8287-4cc0-8450-5cda06ef4bb6","64-3":"uuid-64-3","64-4":"uuid-64-4","64-5":"uuid-64-5",
      "64-6":"uuid-64-6","64-7":"uuid-64-7","64-8":"uuid-64-8","64-9":"uuid-64-9","64-10":"uuid-64-10",
      "65-1":"uuid-65-1","65-2":"uuid-65-2","65-3":"uuid-65-3","65-4":"uuid-65-4","65-5":"uuid-65-5",
      "65-6":"uuid-65-6","65-7":"uuid-65-7","65-8":"uuid-65-8","65-9":"uuid-65-9","65-10":"uuid-65-10"
    };
    let qr; const cellSelect=document.getElementById('cellSelect'); const qrContainer=document.getElementById('qrContainer');
    cellSelect.addEventListener('change',function(){const code=qrData[this.value]; qrContainer.innerHTML=""; if(code){qr=new QRCode(qrContainer,{text:code,width:200,height:200,correctLevel:QRCode.CorrectLevel.H});}});
  </script>

</body>
</html>
